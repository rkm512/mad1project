<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Parking Summary</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="container mt-4">
      <h2>Parking Summary</h2>

      <canvas id="costChart" width="400" height="200"></canvas>
      <hr />
      <canvas id="durationChart" width="400" height="200"></canvas>

      <a href="/admin" class="btn btn-secondary mt-3">Back to Dashboard</a>
    </div>

    <script>
        const labels = {{ labels | tojson | safe }};
        const data = {{ data | tojson | safe }};
        const durations = {{ durations | tojson | safe }};




      new Chart(document.getElementById('costChart').getContext('2d'), {
          type: 'bar',
          data: {
              labels: labels,
              datasets: [{
                  label: 'Parking Cost (â‚¹)',
                  data: data,
                  backgroundColor: 'rgba(54, 162, 235, 0.5)',
                  borderColor: 'rgba(54, 162, 235, 1)',
                  borderWidth: 1
              }]
          },
          options: {
              responsive: true,
              scales: {
                  y: { beginAtZero: true }
              }
          }
      });


      new Chart(document.getElementById('durationChart').getContext('2d'), {
          type: 'line',
          data: {
              labels: labels,
              datasets: [{
                  label: 'Parking Duration (hours)',
                  data: durations,
                  fill: false,
                  borderColor: 'rgba(255, 99, 132, 1)',
                  tension: 0.1
              }]
          },
          options: {
              responsive: true,
              scales: {
                  y: { beginAtZero: true }
              }
          }
      });
    </script>
  </body>
</html>
